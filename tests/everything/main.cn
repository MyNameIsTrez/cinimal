import { bark, get_paw_count } from animals/dog.cn

struct names
	char *first_name
	char *last_name

enum country
	ukraine
	mexico

struct person
	f64 age
	names names
	country country

ptr thing allocate_one_person()
	return calloc(1, person)

void add(ptr mut i32 n)
	n*++

i32 main()
	# single line comment
	# multi
	# line comment
	mut i32 i
	i = 0

	while i < 3
		if i == 0
			print("foo")
		elif (i == 1)
			print("bar")
		else
			print("baz")
		i++

	assert(i == 3)
	add(&i)
	assert(i == 4)

	dog::bark()
	assert(dog::get_paw_count() == 4)

	assert(country::mexico == 1)

	mut ptr mut person people
	people = calloc(2, person)

	ptr mut person frank
	frank = &people[0]
	frank*.age = 24 * 1.5
	assert(people[0].age == 36)
	frank*.names.last_name = "frank"
	assert(people[0].names.last_name == "frank")

	assert(people[1].names.last_name == nullptr);

	people[1].country = country::mexico
	assert(people[1].country != country::ukraine)

	free(people)
	people = allocate_one_person()
	people[0].age = 42
	assert(people[0].age == 42)

	free(people)
	people = nullptr

	arr[2] mut Person friends
	friends = 0
	friends[1].age = 13
	assert(friends[1].age == 13)

	return 0
